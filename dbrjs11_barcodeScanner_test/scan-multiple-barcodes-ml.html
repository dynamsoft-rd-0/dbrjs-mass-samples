<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Template C v11.2.1000-Alpha Candidate new "speed" template(ML-Decoder)</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./dist/dbr.bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/eruda/eruda.min.js"></script>
    <script>eruda.init();</script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/dynamsoft-barcode-reader-bundle@11.0.6000/dist/dbr.bundle.js"></script> -->
    <!-- <script src="https://npm.scannerproxy.com:802/cdn/@dynamsoft/dynamsoft-barcode-reader-bundle@11.2.1000-dev-20250923135008/dist/dbr.bundle.js"></script> -->
  </head>
  <body>
    <h1>Template C v11.2.1000-Alpha Candidate new "speed" template(ML-Decoder) </h1>
    <script>
      // Dynamsoft.Core.CoreModule._useMLBackend = true;
      // Dynamsoft.Core.CoreModule._usePThread = true;

      let cvRouter = null;
      let cameraEnhancer = null;
      let cameraView = null;

      const barcodeScanner = new Dynamsoft.BarcodeScanner({
        license: "DLS2eyJoYW5kc2hha2VDb2RlIjoiMjAwMDAwLTEwMzk4OTAwMyIsIm1haW5TZXJ2ZXJVUkwiOiJodHRwczovL21sdHMuZHluYW1zb2Z0LmNvbS8iLCJvcmdhbml6YXRpb25JRCI6IjIwMDAwMCIsInN0YW5kYnlTZXJ2ZXJVUkwiOiJodHRwczovL3NsdHMuZHluYW1zb2Z0LmNvbS8iLCJjaGVja0NvZGUiOjk0NTQ3NzkxMX0=",
        templateFilePath: './speedml.json',
        utilizedTemplateNames:{
            single: `speed-ml`,
            multi_unique: `speed-ml`,
            image: `speed-ml`,
        },
        scanMode: Dynamsoft.EnumScanMode.SM_MULTI_UNIQUE,
        onInitReady: (components) => {
            cvRouter = components.cvRouter;
            cameraEnhancer = components.cameraEnhancer;
            cameraView = components.cameraView;
            // turn off webgl fetching
            cameraEnhancer._imageDataGetter.useWebGLByDefault = false;
        }
        // engineResourcePaths: {rootDirectory:"./dist"},
        // scannerViewConfig: {
        //   showCloseButton: true,
        // },
        // showUploadImageButton: true,
        // barcodeFormats: [Dynamsoft.DBR.EnumBarcodeFormat.BF_QR_CODE , Dynamsoft.DBR.EnumBarcodeFormat.BF_CODE_128],
      });
      (async () => {
        // const arrDataBases = await indexedDB.databases();
        // const copiedArr = Array.from(arrDataBases);
        //   for (let i of copiedArr) {
        //     indexedDB.deleteDatabase(i.name);
        //   }
        // localStorage.clear();
        const result = await barcodeScanner.launch();
        console.log(result);
        // for (let item of result.barcodeResults) {
        //     alert(item.text);
        // };
      })();
    </script>
  </body>
</html>
