/*!
* Dynamsoft JavaScript Library
* @product Dynamsoft Barcode Reader JS Edition Bundle
* @website http://www.dynamsoft.com
* @copyright Copyright 2025, Dynamsoft Corporation
* @author Dynamsoft
* @version 11.0.3000-dev-20250702151105
* @fileoverview Dynamsoft JavaScript Library for Barcode Reader
* More info on dbr JS: https://www.dynamsoft.com/barcode-reader/docs/web/programming/javascript/
*/
!function(){"use strict";function e(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{_(n.next(e))}catch(e){o(e)}}function a(e){try{_(n.throw(e))}catch(e){o(e)}}function _(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}_((n=n.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;const t=e=>e&&"object"==typeof e&&"function"==typeof e.then,r=(async()=>{})().constructor;class n extends r{get status(){return this._s}get isPending(){return"pending"===this._s}get isFulfilled(){return"fulfilled"===this._s}get isRejected(){return"rejected"===this._s}get task(){return this._task}set task(e){let n;this._task=e,t(e)?n=e:"function"==typeof e&&(n=new r(e)),n&&(async()=>{try{const t=await n;e===this._task&&this.resolve(t)}catch(t){e===this._task&&this.reject(t)}})()}get isEmpty(){return null==this._task}constructor(e){let r,n;super((e,t)=>{r=e,n=t}),this._s="pending",this.resolve=e=>{this.isPending&&(t(e)?this.task=e:(this._s="fulfilled",r(e)))},this.reject=e=>{this.isPending&&(this._s="rejected",n(e))},this.task=e}}var i,o,s,a;(async()=>{})().constructor,"function"==typeof SuppressedError&&SuppressedError,(a=i||(i={}))[a.BOPM_BLOCK=0]="BOPM_BLOCK",a[a.BOPM_UPDATE=1]="BOPM_UPDATE",function(e){e[e.CCUT_AUTO=0]="CCUT_AUTO",e[e.CCUT_FULL_CHANNEL=1]="CCUT_FULL_CHANNEL",e[e.CCUT_Y_CHANNEL_ONLY=2]="CCUT_Y_CHANNEL_ONLY",e[e.CCUT_RGB_R_CHANNEL_ONLY=3]="CCUT_RGB_R_CHANNEL_ONLY",e[e.CCUT_RGB_G_CHANNEL_ONLY=4]="CCUT_RGB_G_CHANNEL_ONLY",e[e.CCUT_RGB_B_CHANNEL_ONLY=5]="CCUT_RGB_B_CHANNEL_ONLY"}(o||(o={})),function(e){e[e.IPF_BINARY=0]="IPF_BINARY",e[e.IPF_BINARYINVERTED=1]="IPF_BINARYINVERTED",e[e.IPF_GRAYSCALED=2]="IPF_GRAYSCALED",e[e.IPF_NV21=3]="IPF_NV21",e[e.IPF_RGB_565=4]="IPF_RGB_565",e[e.IPF_RGB_555=5]="IPF_RGB_555",e[e.IPF_RGB_888=6]="IPF_RGB_888",e[e.IPF_ARGB_8888=7]="IPF_ARGB_8888",e[e.IPF_RGB_161616=8]="IPF_RGB_161616",e[e.IPF_ARGB_16161616=9]="IPF_ARGB_16161616",e[e.IPF_ABGR_8888=10]="IPF_ABGR_8888",e[e.IPF_ABGR_16161616=11]="IPF_ABGR_16161616",e[e.IPF_BGR_888=12]="IPF_BGR_888",e[e.IPF_BINARY_8=13]="IPF_BINARY_8",e[e.IPF_NV12=14]="IPF_NV12",e[e.IPF_BINARY_8_INVERTED=15]="IPF_BINARY_8_INVERTED"}(s||(s={}));const _="undefined"==typeof self,c="function"==typeof importScripts,d=(()=>{if(!c){if(!_&&document.currentScript){let e=document.currentScript.src,t=e.indexOf("?");if(-1!=t)e=e.substring(0,t);else{let t=e.indexOf("#");-1!=t&&(e=e.substring(0,t))}return e.substring(0,e.lastIndexOf("/")+1)}return"./"}})(),E=e=>"number"==typeof e&&!Number.isNaN(e),l=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),u=e=>!(!(e=>!(!l(e)||!E(e.width)||e.width<=0||!E(e.height)||e.height<=0||!E(e.stride)||e.stride<=0||!("format"in e)||"tag"in e&&!f(e.tag)))(e)||!E(e.bytes.length)&&!E(e.bytes.ptr)),f=e=>null===e||!!l(e)&&!!E(e.imageId)&&"type"in e,I=async(e,t)=>await new Promise((r,n)=>{let i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.send(),i.onloadend=async()=>{i.status<200||i.status>=300?n(new Error(e+" "+i.status)):r(i.response)},i.onerror=()=>{n(new Error("Network Error: "+i.statusText))}});let m,T,C,p,g;var y,h,A,v,N,R,D,S,O;"undefined"!=typeof navigator&&(m=navigator,T=m.userAgent,C=m.platform,p=m.mediaDevices),function(){if(!_){const e={Edge:{search:"Edg",verSearch:"Edg"},OPR:null,Chrome:null,Safari:{str:m.vendor,search:"Apple",verSearch:["Version","iPhone OS","CPU OS"]},Firefox:null,Explorer:{search:"MSIE",verSearch:"MSIE"}},t={HarmonyOS:null,Android:null,iPhone:null,iPad:null,Windows:{str:C,search:"Win"},Mac:{str:C},Linux:{str:C}};let r="unknownBrowser",n=0,i="unknownOS";for(let t in e){const i=e[t]||{};let o=i.str||T,s=i.search||t,a=i.verStr||T,_=i.verSearch||t;if(_ instanceof Array||(_=[_]),-1!=o.indexOf(s)){r=t;for(let e of _){let t=a.indexOf(e);if(-1!=t){n=parseFloat(a.substring(t+e.length+1));break}}break}}for(let e in t){const r=t[e]||{};let n=r.str||T,o=r.search||e;if(-1!=n.indexOf(o)){i=e;break}}"Linux"==i&&-1!=T.indexOf("Windows NT")&&(i="HarmonyOS"),g={browser:r,version:n,OS:i}}_&&(g={browser:"ssr",version:0,OS:"ssr"})}(),p&&p.getUserMedia,"Chrome"===g.browser&&g.version>66||"Safari"===g.browser&&g.version>13||"OPR"===g.browser&&g.version>43||"Edge"===g.browser&&g.version,function(e){e[e.CRIT_ORIGINAL_IMAGE=1]="CRIT_ORIGINAL_IMAGE",e[e.CRIT_BARCODE=2]="CRIT_BARCODE",e[e.CRIT_TEXT_LINE=4]="CRIT_TEXT_LINE",e[e.CRIT_DETECTED_QUAD=8]="CRIT_DETECTED_QUAD",e[e.CRIT_DESKEWED_IMAGE=16]="CRIT_DESKEWED_IMAGE",e[e.CRIT_PARSED_RESULT=32]="CRIT_PARSED_RESULT",e[e.CRIT_ENHANCED_IMAGE=64]="CRIT_ENHANCED_IMAGE"}(y||(y={})),function(e){e[e.CT_NORMAL_INTERSECTED=0]="CT_NORMAL_INTERSECTED",e[e.CT_T_INTERSECTED=1]="CT_T_INTERSECTED",e[e.CT_CROSS_INTERSECTED=2]="CT_CROSS_INTERSECTED",e[e.CT_NOT_INTERSECTED=3]="CT_NOT_INTERSECTED"}(h||(h={})),function(e){e[e.EC_OK=0]="EC_OK",e[e.EC_UNKNOWN=-1e4]="EC_UNKNOWN",e[e.EC_NO_MEMORY=-10001]="EC_NO_MEMORY",e[e.EC_NULL_POINTER=-10002]="EC_NULL_POINTER",e[e.EC_LICENSE_INVALID=-10003]="EC_LICENSE_INVALID",e[e.EC_LICENSE_EXPIRED=-10004]="EC_LICENSE_EXPIRED",e[e.EC_FILE_NOT_FOUND=-10005]="EC_FILE_NOT_FOUND",e[e.EC_FILE_TYPE_NOT_SUPPORTED=-10006]="EC_FILE_TYPE_NOT_SUPPORTED",e[e.EC_BPP_NOT_SUPPORTED=-10007]="EC_BPP_NOT_SUPPORTED",e[e.EC_INDEX_INVALID=-10008]="EC_INDEX_INVALID",e[e.EC_CUSTOM_REGION_INVALID=-10010]="EC_CUSTOM_REGION_INVALID",e[e.EC_IMAGE_READ_FAILED=-10012]="EC_IMAGE_READ_FAILED",e[e.EC_TIFF_READ_FAILED=-10013]="EC_TIFF_READ_FAILED",e[e.EC_DIB_BUFFER_INVALID=-10018]="EC_DIB_BUFFER_INVALID",e[e.EC_PDF_READ_FAILED=-10021]="EC_PDF_READ_FAILED",e[e.EC_PDF_DLL_MISSING=-10022]="EC_PDF_DLL_MISSING",e[e.EC_PAGE_NUMBER_INVALID=-10023]="EC_PAGE_NUMBER_INVALID",e[e.EC_CUSTOM_SIZE_INVALID=-10024]="EC_CUSTOM_SIZE_INVALID",e[e.EC_TIMEOUT=-10026]="EC_TIMEOUT",e[e.EC_JSON_PARSE_FAILED=-10030]="EC_JSON_PARSE_FAILED",e[e.EC_JSON_TYPE_INVALID=-10031]="EC_JSON_TYPE_INVALID",e[e.EC_JSON_KEY_INVALID=-10032]="EC_JSON_KEY_INVALID",e[e.EC_JSON_VALUE_INVALID=-10033]="EC_JSON_VALUE_INVALID",e[e.EC_JSON_NAME_KEY_MISSING=-10034]="EC_JSON_NAME_KEY_MISSING",e[e.EC_JSON_NAME_VALUE_DUPLICATED=-10035]="EC_JSON_NAME_VALUE_DUPLICATED",e[e.EC_TEMPLATE_NAME_INVALID=-10036]="EC_TEMPLATE_NAME_INVALID",e[e.EC_JSON_NAME_REFERENCE_INVALID=-10037]="EC_JSON_NAME_REFERENCE_INVALID",e[e.EC_PARAMETER_VALUE_INVALID=-10038]="EC_PARAMETER_VALUE_INVALID",e[e.EC_DOMAIN_NOT_MATCH=-10039]="EC_DOMAIN_NOT_MATCH",e[e.EC_LICENSE_KEY_NOT_MATCH=-10043]="EC_LICENSE_KEY_NOT_MATCH",e[e.EC_SET_MODE_ARGUMENT_ERROR=-10051]="EC_SET_MODE_ARGUMENT_ERROR",e[e.EC_GET_MODE_ARGUMENT_ERROR=-10055]="EC_GET_MODE_ARGUMENT_ERROR",e[e.EC_IRT_LICENSE_INVALID=-10056]="EC_IRT_LICENSE_INVALID",e[e.EC_FILE_SAVE_FAILED=-10058]="EC_FILE_SAVE_FAILED",e[e.EC_STAGE_TYPE_INVALID=-10059]="EC_STAGE_TYPE_INVALID",e[e.EC_IMAGE_ORIENTATION_INVALID=-10060]="EC_IMAGE_ORIENTATION_INVALID",e[e.EC_CONVERT_COMPLEX_TEMPLATE_ERROR=-10061]="EC_CONVERT_COMPLEX_TEMPLATE_ERROR",e[e.EC_CALL_REJECTED_WHEN_CAPTURING=-10062]="EC_CALL_REJECTED_WHEN_CAPTURING",e[e.EC_NO_IMAGE_SOURCE=-10063]="EC_NO_IMAGE_SOURCE",e[e.EC_READ_DIRECTORY_FAILED=-10064]="EC_READ_DIRECTORY_FAILED",e[e.EC_MODULE_NOT_FOUND=-10065]="EC_MODULE_NOT_FOUND",e[e.EC_MULTI_PAGES_NOT_SUPPORTED=-10066]="EC_MULTI_PAGES_NOT_SUPPORTED",e[e.EC_FILE_ALREADY_EXISTS=-10067]="EC_FILE_ALREADY_EXISTS",e[e.EC_CREATE_FILE_FAILED=-10068]="EC_CREATE_FILE_FAILED",e[e.EC_IMGAE_DATA_INVALID=-10069]="EC_IMGAE_DATA_INVALID",e[e.EC_IMAGE_SIZE_NOT_MATCH=-10070]="EC_IMAGE_SIZE_NOT_MATCH",e[e.EC_IMAGE_PIXEL_FORMAT_NOT_MATCH=-10071]="EC_IMAGE_PIXEL_FORMAT_NOT_MATCH",e[e.EC_SECTION_LEVEL_RESULT_IRREPLACEABLE=-10072]="EC_SECTION_LEVEL_RESULT_IRREPLACEABLE",e[e.EC_AXIS_DEFINITION_INCORRECT=-10073]="EC_AXIS_DEFINITION_INCORRECT",e[e.EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE=-10074]="EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE",e[e.EC_PDF_LIBRARY_LOAD_FAILED=-10075]="EC_PDF_LIBRARY_LOAD_FAILED",e[e.EC_UNSUPPORTED_JSON_KEY_WARNING=-10077]="EC_UNSUPPORTED_JSON_KEY_WARNING",e[e.EC_MODEL_FILE_NOT_FOUND=-10078]="EC_MODEL_FILE_NOT_FOUND",e[e.EC_PDF_LICENSE_NOT_FOUND=-10079]="EC_PDF_LICENSE_NOT_FOUND",e[e.EC_RECT_INVALID=-10080]="EC_RECT_INVALID",e[e.EC_NO_LICENSE=-2e4]="EC_NO_LICENSE",e[e.EC_LICENSE_BUFFER_FAILED=-20002]="EC_LICENSE_BUFFER_FAILED",e[e.EC_LICENSE_SYNC_FAILED=-20003]="EC_LICENSE_SYNC_FAILED",e[e.EC_DEVICE_NOT_MATCH=-20004]="EC_DEVICE_NOT_MATCH",e[e.EC_BIND_DEVICE_FAILED=-20005]="EC_BIND_DEVICE_FAILED",e[e.EC_INSTANCE_COUNT_OVER_LIMIT=-20008]="EC_INSTANCE_COUNT_OVER_LIMIT",e[e.EC_TRIAL_LICENSE=-20010]="EC_TRIAL_LICENSE",e[e.EC_BARCODE_FORMAT_INVALID=-30009]="EC_BARCODE_FORMAT_INVALID",e[e.EC_CUSTOM_MODULESIZE_INVALID=-30025]="EC_CUSTOM_MODULESIZE_INVALID",e[e.EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT=-40101]="EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT",e[e.EC_TEXT_LINE_GROUP_REGEX_CONFLICT=-40102]="EC_TEXT_LINE_GROUP_REGEX_CONFLICT",e[e.EC_QUADRILATERAL_INVALID=-50057]="EC_QUADRILATERAL_INVALID",e[e.EC_PANORAMA_LICENSE_INVALID=-70060]="EC_PANORAMA_LICENSE_INVALID",e[e.EC_RESOURCE_PATH_NOT_EXIST=-90001]="EC_RESOURCE_PATH_NOT_EXIST",e[e.EC_RESOURCE_LOAD_FAILED=-90002]="EC_RESOURCE_LOAD_FAILED",e[e.EC_CODE_SPECIFICATION_NOT_FOUND=-90003]="EC_CODE_SPECIFICATION_NOT_FOUND",e[e.EC_FULL_CODE_EMPTY=-90004]="EC_FULL_CODE_EMPTY",e[e.EC_FULL_CODE_PREPROCESS_FAILED=-90005]="EC_FULL_CODE_PREPROCESS_FAILED",e[e.EC_LICENSE_WARNING=-10076]="EC_LICENSE_WARNING",e[e.EC_BARCODE_READER_LICENSE_NOT_FOUND=-30063]="EC_BARCODE_READER_LICENSE_NOT_FOUND",e[e.EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND=-40103]="EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND",e[e.EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND=-50058]="EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND",e[e.EC_CODE_PARSER_LICENSE_NOT_FOUND=-90012]="EC_CODE_PARSER_LICENSE_NOT_FOUND"}(A||(A={})),function(e){e[e.GEM_SKIP=0]="GEM_SKIP",e[e.GEM_AUTO=1]="GEM_AUTO",e[e.GEM_GENERAL=2]="GEM_GENERAL",e[e.GEM_GRAY_EQUALIZE=4]="GEM_GRAY_EQUALIZE",e[e.GEM_GRAY_SMOOTH=8]="GEM_GRAY_SMOOTH",e[e.GEM_SHARPEN_SMOOTH=16]="GEM_SHARPEN_SMOOTH",e[e.GEM_REV=-2147483648]="GEM_REV",e[e.GEM_END=-1]="GEM_END"}(v||(v={})),function(e){e[e.GTM_SKIP=0]="GTM_SKIP",e[e.GTM_INVERTED=1]="GTM_INVERTED",e[e.GTM_ORIGINAL=2]="GTM_ORIGINAL",e[e.GTM_AUTO=4]="GTM_AUTO",e[e.GTM_REV=-2147483648]="GTM_REV",e[e.GTM_END=-1]="GTM_END"}(N||(N={})),function(e){e[e.ITT_FILE_IMAGE=0]="ITT_FILE_IMAGE",e[e.ITT_VIDEO_FRAME=1]="ITT_VIDEO_FRAME"}(R||(R={})),function(e){e[e.PDFRM_VECTOR=1]="PDFRM_VECTOR",e[e.PDFRM_RASTER=2]="PDFRM_RASTER",e[e.PDFRM_REV=-2147483648]="PDFRM_REV"}(D||(D={})),function(e){e[e.RDS_RASTERIZED_PAGES=0]="RDS_RASTERIZED_PAGES",e[e.RDS_EXTRACTED_IMAGES=1]="RDS_EXTRACTED_IMAGES"}(S||(S={})),function(e){e[e.CVS_NOT_VERIFIED=0]="CVS_NOT_VERIFIED",e[e.CVS_PASSED=1]="CVS_PASSED",e[e.CVS_FAILED=2]="CVS_FAILED"}(O||(O={}));const b={IRUT_NULL:BigInt(0),IRUT_COLOUR_IMAGE:BigInt(1),IRUT_SCALED_COLOUR_IMAGE:BigInt(2),IRUT_GRAYSCALE_IMAGE:BigInt(4),IRUT_TRANSOFORMED_GRAYSCALE_IMAGE:BigInt(8),IRUT_ENHANCED_GRAYSCALE_IMAGE:BigInt(16),IRUT_PREDETECTED_REGIONS:BigInt(32),IRUT_BINARY_IMAGE:BigInt(64),IRUT_TEXTURE_DETECTION_RESULT:BigInt(128),IRUT_TEXTURE_REMOVED_GRAYSCALE_IMAGE:BigInt(256),IRUT_TEXTURE_REMOVED_BINARY_IMAGE:BigInt(512),IRUT_CONTOURS:BigInt(1024),IRUT_LINE_SEGMENTS:BigInt(2048),IRUT_TEXT_ZONES:BigInt(4096),IRUT_TEXT_REMOVED_BINARY_IMAGE:BigInt(8192),IRUT_CANDIDATE_BARCODE_ZONES:BigInt(16384),IRUT_LOCALIZED_BARCODES:BigInt(32768),IRUT_SCALED_BARCODE_IMAGE:BigInt(65536),IRUT_DEFORMATION_RESISTED_BARCODE_IMAGE:BigInt(1<<17),IRUT_COMPLEMENTED_BARCODE_IMAGE:BigInt(1<<18),IRUT_DECODED_BARCODES:BigInt(1<<19),IRUT_LONG_LINES:BigInt(1<<20),IRUT_CORNERS:BigInt(1<<21),IRUT_CANDIDATE_QUAD_EDGES:BigInt(1<<22),IRUT_DETECTED_QUADS:BigInt(1<<23),IRUT_LOCALIZED_TEXT_LINES:BigInt(1<<24),IRUT_RECOGNIZED_TEXT_LINES:BigInt(1<<25),IRUT_DESKEWED_IMAGE:BigInt(1<<26),IRUT_SHORT_LINES:BigInt(1<<27),IRUT_RAW_TEXT_LINES:BigInt(1<<28),IRUT_LOGIC_LINES:BigInt(1<<29),IRUT_ENHANCED_IMAGE:BigInt(Math.pow(2,30)),IRUT_ALL:BigInt("0xFFFFFFFFFFFFFFFF")};var L,U,M,w,P,F;!function(e){e[e.ROET_PREDETECTED_REGION=0]="ROET_PREDETECTED_REGION",e[e.ROET_LOCALIZED_BARCODE=1]="ROET_LOCALIZED_BARCODE",e[e.ROET_DECODED_BARCODE=2]="ROET_DECODED_BARCODE",e[e.ROET_LOCALIZED_TEXT_LINE=3]="ROET_LOCALIZED_TEXT_LINE",e[e.ROET_RECOGNIZED_TEXT_LINE=4]="ROET_RECOGNIZED_TEXT_LINE",e[e.ROET_DETECTED_QUAD=5]="ROET_DETECTED_QUAD",e[e.ROET_DESKEWED_IMAGE=6]="ROET_DESKEWED_IMAGE",e[e.ROET_SOURCE_IMAGE=7]="ROET_SOURCE_IMAGE",e[e.ROET_TARGET_ROI=8]="ROET_TARGET_ROI",e[e.ROET_ENHANCED_IMAGE=9]="ROET_ENHANCED_IMAGE"}(L||(L={})),function(e){e[e.ST_NULL=0]="ST_NULL",e[e.ST_REGION_PREDETECTION=1]="ST_REGION_PREDETECTION",e[e.ST_BARCODE_LOCALIZATION=2]="ST_BARCODE_LOCALIZATION",e[e.ST_BARCODE_DECODING=3]="ST_BARCODE_DECODING",e[e.ST_TEXT_LINE_LOCALIZATION=4]="ST_TEXT_LINE_LOCALIZATION",e[e.ST_TEXT_LINE_RECOGNITION=5]="ST_TEXT_LINE_RECOGNITION",e[e.ST_DOCUMENT_DETECTION=6]="ST_DOCUMENT_DETECTION",e[e.ST_DOCUMENT_DESKEWING=7]="ST_DOCUMENT_DESKEWING",e[e.ST_IMAGE_ENHANCEMENT=8]="ST_IMAGE_ENHANCEMENT"}(U||(U={})),function(e){e[e.IFF_JPEG=0]="IFF_JPEG",e[e.IFF_PNG=1]="IFF_PNG",e[e.IFF_BMP=2]="IFF_BMP",e[e.IFF_PDF=3]="IFF_PDF"}(M||(M={})),function(e){e[e.ICDM_NEAR=0]="ICDM_NEAR",e[e.ICDM_FAR=1]="ICDM_FAR"}(w||(w={})),function(e){e.MN_DYNAMSOFT_CAPTURE_VISION_ROUTER="cvr",e.MN_DYNAMSOFT_CORE="core",e.MN_DYNAMSOFT_LICENSE="license",e.MN_DYNAMSOFT_IMAGE_PROCESSING="dip",e.MN_DYNAMSOFT_UTILITY="utility",e.MN_DYNAMSOFT_BARCODE_READER="dbr",e.MN_DYNAMSOFT_DOCUMENT_NORMALIZER="ddn",e.MN_DYNAMSOFT_LABEL_RECOGNIZER="dlr",e.MN_DYNAMSOFT_CAPTURE_VISION_DATA="dcvData",e.MN_DYNAMSOFT_NEURAL_NETWORK="dnn",e.MN_DYNAMSOFT_CODE_PARSER="dcp",e.MN_DYNAMSOFT_CAMERA_ENHANCER="dce",e.MN_DYNAMSOFT_CAPTURE_VISION_STD="std"}(P||(P={})),function(e){e[e.TMT_LOCAL_TO_ORIGINAL_IMAGE=0]="TMT_LOCAL_TO_ORIGINAL_IMAGE",e[e.TMT_ORIGINAL_TO_LOCAL_IMAGE=1]="TMT_ORIGINAL_TO_LOCAL_IMAGE",e[e.TMT_LOCAL_TO_SECTION_IMAGE=2]="TMT_LOCAL_TO_SECTION_IMAGE",e[e.TMT_SECTION_TO_LOCAL_IMAGE=3]="TMT_SECTION_TO_LOCAL_IMAGE"}(F||(F={})),(e=>{if(null==e&&(e="./"),_||c);else{let t=document.createElement("a");t.href=e,e=t.href}e.endsWith("/")||(e+="/")})(d+"../../dynamsoft-capture-vision-std@2.0.0/dist/");const B="undefined"==typeof self,G=B?{}:self;let x,W,V,k,Y;"undefined"!=typeof navigator&&(x=navigator,W=x.userAgent,V=x.platform,k=x.mediaDevices),function(){if(!B){const e={Edge:{search:"Edg",verSearch:"Edg"},OPR:null,Chrome:null,Safari:{str:x.vendor,search:"Apple",verSearch:["Version","iPhone OS","CPU OS"]},Firefox:null,Explorer:{search:"MSIE",verSearch:"MSIE"}},t={HarmonyOS:null,Android:null,iPhone:null,iPad:null,Windows:{str:V,search:"Win"},Mac:{str:V},Linux:{str:V}};let r="unknownBrowser",n=0,i="unknownOS";for(let t in e){const i=e[t]||{};let o=i.str||W,s=i.search||t,a=i.verStr||W,_=i.verSearch||t;if(_ instanceof Array||(_=[_]),-1!=o.indexOf(s)){r=t;for(let e of _){let t=a.indexOf(e);if(-1!=t){n=parseFloat(a.substring(t+e.length+1));break}}break}}for(let e in t){const r=t[e]||{};let n=r.str||W,o=r.search||e;if(-1!=n.indexOf(o)){i=e;break}}"Linux"==i&&-1!=W.indexOf("Windows NT")&&(i="HarmonyOS"),Y={browser:r,version:n,OS:i}}B&&(Y={browser:"ssr",version:0,OS:"ssr"})}(),k&&k.getUserMedia;const H="Chrome"===Y.browser&&Y.version>66||"Safari"===Y.browser&&Y.version>13||"OPR"===Y.browser&&Y.version>43||"Edge"===Y.browser&&Y.version>15;var J=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function j(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}function X(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function Z(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function K(e){return"string"!=typeof e&&(console.warn(`${e} used as a key, but it is not a string.`),e=String(e)),e}function $(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}const z="local-forage-detect-blob-support";let Q;const q={},ee=Object.prototype.toString,te="readonly",re="readwrite";function ne(e){return"boolean"==typeof Q?Promise.resolve(Q):function(e){return new Promise(function(t){var r=e.transaction(z,re),n=j([""]);r.objectStore(z).put(n,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return Q=e,Q})}function ie(e){var t=q[e.name],r={};r.promise=new Promise(function(e,t){r.resolve=e,r.reject=t}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function oe(e){var t=q[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function se(e,t){var r=q[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function ae(e,t){return new Promise(function(r,n){if(q[e.name]=q[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return r(e.db);ie(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=J.open.apply(J,i);t&&(o.onupgradeneeded=function(t){var r=o.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(z)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),n(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},r(t),oe(e)}})}function _e(e){return ae(e,!1)}function ce(e){return ae(e,!0)}function de(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,i=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||r){if(r){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function Ee(e){var t=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}(atob(e.data));return j([t],{type:e.type})}function le(e){var t=this,r=t._initReady().then(function(){var e=q[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return Z(r,e,e),r}function ue(e,t,r,n){void 0===n&&(n=1);try{var i=e.db.transaction(e.storeName,t);r(null,i)}catch(i){if(n>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return Promise.resolve().then(()=>{if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ce(e)}).then(()=>function(e){ie(e);for(var t=q[e.name],r=t.forages,n=0;n<r.length;n++){const e=r[n];e._dbInfo.db&&(e._dbInfo.db.close(),e._dbInfo.db=null)}return e.db=null,_e(e).then(t=>(e.db=t,de(e)?ce(e):t)).then(n=>{e.db=t.db=n;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=n}).catch(t=>{throw se(e,t),t})}(e).then(function(){ue(e,t,r,n-1)})).catch(r);r(i)}}var fe={_driver:"asyncStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]=e[n];var i=q[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},q[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=le);var o=[];function s(){return Promise.resolve()}for(var a=0;a<i.forages.length;a++){var _=i.forages[a];_!==t&&o.push(_._initReady().catch(s))}var c=i.forages.slice(0);return Promise.all(o).then(function(){return r.db=i.db,_e(r)}).then(function(e){return r.db=e,de(r,t._defaultConfig.version)?ce(r):e}).then(function(e){r.db=i.db=e,t._dbInfo=r;for(var n=0;n<c.length;n++){var o=c[n];o!==t&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})},_support:function(){try{if(!J||!J.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),getItem:function(e,t){var r=this;e=K(e);var n=new Promise(function(t,n){r.ready().then(function(){ue(r._dbInfo,te,function(i,o){if(i)return n(i);try{var s=o.objectStore(r._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),function(e){return e&&e.__local_forage_encoded_blob}(e)&&(e=Ee(e)),t(e)},s.onerror=function(){n(s.error)}}catch(e){n(e)}})}).catch(n)});return X(n,t),n},setItem:function(e,t,r){var n=this;e=K(e);var i=new Promise(function(r,i){var o;n.ready().then(function(){return o=n._dbInfo,"[object Blob]"===ee.call(t)?ne(o.db).then(function(e){return e?t:(r=t,new Promise(function(e,t){var n=new FileReader;n.onerror=t,n.onloadend=function(t){var n=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)}));var r}):t}).then(function(t){ue(n._dbInfo,re,function(o,s){if(o)return i(o);try{var a=s.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var _=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),r(t)},s.onabort=s.onerror=function(){var e=_.error?_.error:_.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return X(i,r),i},removeItem:function(e,t){var r=this;e=K(e);var n=new Promise(function(t,n){r.ready().then(function(){ue(r._dbInfo,re,function(i,o){if(i)return n(i);try{var s=o.objectStore(r._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){n(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return X(n,t),n},clear:function(e){var t=this,r=new Promise(function(e,r){t.ready().then(function(){ue(t._dbInfo,re,function(n,i){if(n)return r(n);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return X(r,e),r},length:function(e){var t=this,r=new Promise(function(e,r){t.ready().then(function(){ue(t._dbInfo,te,function(n,i){if(n)return r(n);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){r(o.error)}}catch(e){r(e)}})}).catch(r)});return X(r,e),r},keys:function(e){var t=this,r=new Promise(function(e,r){t.ready().then(function(){ue(t._dbInfo,te,function(n,i){if(n)return r(n);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var t=o.result;t?(s.push(t.key),t.continue()):e(s)},o.onerror=function(){r(o.error)}}catch(e){r(e)}})}).catch(r)});return X(r,e),r},dropInstance:function(e,t){t=$.apply(this,arguments);var r,n=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName),e.name){const t=e.name===n.name&&this._dbInfo.db?Promise.resolve(this._dbInfo.db):_e(e).then(t=>{const r=q[e.name],n=r.forages;r.db=t;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=t;return t});r=e.storeName?t.then(t=>{if(!t.objectStoreNames.contains(e.storeName))return;const r=t.version+1;ie(e);const n=q[e.name],i=n.forages;t.close();for(let e=0;e<i.length;e++){const t=i[e];t._dbInfo.db=null,t._dbInfo.version=r}const o=new Promise((t,n)=>{const i=J.open(e.name,r);i.onerror=e=>{i.result.close(),n(e)},i.onupgradeneeded=()=>{i.result.deleteObjectStore(e.storeName)},i.onsuccess=()=>{const e=i.result;e.close(),t(e)}});return o.then(e=>{n.db=e;for(let t=0;t<i.length;t++){const r=i[t];r._dbInfo.db=e,oe(r._dbInfo)}}).catch(t=>{throw(se(e,t)||Promise.resolve()).catch(()=>{}),t})}):t.then(t=>{ie(e);const r=q[e.name],n=r.forages;t.close();for(var i=0;i<n.length;i++){n[i]._dbInfo.db=null}const o=new Promise((t,r)=>{var n=J.deleteDatabase(e.name);n.onerror=()=>{const e=n.result;e&&e.close(),r(n.error)},n.onblocked=()=>{console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=()=>{const e=n.result;e&&e.close(),t(e)}});return o.then(e=>{r.db=e;for(var t=0;t<n.length;t++){oe(n[t]._dbInfo)}}).catch(t=>{throw(se(e,t)||Promise.resolve()).catch(()=>{}),t})})}else r=Promise.reject("Invalid arguments");return X(r,t),r}};const Ie=new Map;function me(e,t){let r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}var Te={_driver:"tempStorageWrapper",_initStorage:async function(e){const t={};if(e)for(let r in e)t[r]=e[r];const r=t.keyPrefix=me(e,this._defaultConfig);this._dbInfo=t,Ie.has(r)||Ie.set(r,new Map)},getItem:function(e,t){e=K(e);const r=this.ready().then(()=>Ie.get(this._dbInfo.keyPrefix).get(e));return X(r,t),r},setItem:function(e,t,r){e=K(e);const n=this.ready().then(()=>(void 0===t&&(t=null),Ie.get(this._dbInfo.keyPrefix).set(e,t),t));return X(n,r),n},removeItem:function(e,t){e=K(e);const r=this.ready().then(()=>{Ie.get(this._dbInfo.keyPrefix).delete(e)});return X(r,t),r},clear:function(e){const t=this.ready().then(()=>{const e=this._dbInfo.keyPrefix;Ie.has(e)&&Ie.delete(e)});return X(t,e),t},length:function(e){const t=this.ready().then(()=>Ie.get(this._dbInfo.keyPrefix).size);return X(t,e),t},keys:function(e){const t=this.ready().then(()=>[...Ie.get(this._dbInfo.keyPrefix).keys()]);return X(t,e),t},dropInstance:function(e,t){if(t=$.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){const t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}let r;return r=e.name?new Promise(t=>{e.storeName?t(me(e,this._defaultConfig)):t(`${e.name}/`)}).then(e=>{Ie.delete(e)}):Promise.reject("Invalid arguments"),X(r,t),r}};const Ce=(e,t)=>e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t),pe=(e,t)=>{const r=e.length;let n=0;for(;n<r;){if(Ce(e[n],t))return!0;n++}return!1},ge=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ye={},he={},Ae={INDEXEDDB:fe,TEMPSTORAGE:Te},ve=[Ae.INDEXEDDB._driver,Ae.TEMPSTORAGE._driver],Ne=["dropInstance"],Re=["clear","getItem","keys","length","removeItem","setItem"].concat(Ne),De={description:"",driver:ve.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Se(e,t){e[t]=function(){const r=arguments;return e.ready().then(function(){return e[t].apply(e,r)})}}function Oe(){for(let e=1;e<arguments.length;e++){const t=arguments[e];if(t)for(let e in t)t.hasOwnProperty(e)&&(ge(t[e])?arguments[0][e]=t[e].slice():arguments[0][e]=t[e])}return arguments[0]}class be{constructor(e){for(let e in Ae)if(Ae.hasOwnProperty(e)){const t=Ae[e],r=t._driver;this[e]=r,ye[r]||this.defineDriver(t)}this._defaultConfig=Oe({},De),this._config=Oe({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(()=>{})}config(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(let t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}defineDriver(e,t,r){const n=new Promise(function(t,r){try{const n=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(i);const o=Re.concat("_initStorage");for(let t=0,n=o.length;t<n;t++){const n=o[t];if((!pe(Ne,n)||e[n])&&"function"!=typeof e[n])return void r(i)}const s=function(){const t=function(e){return function(){const t=new Error(`Method ${e} is not implemented by the current driver`),r=Promise.reject(t);return X(r,arguments[arguments.length-1]),r}};for(let r=0,n=Ne.length;r<n;r++){const n=Ne[r];e[n]||(e[n]=t(n))}};s();const a=function(r){ye[n]&&console.info(`Redefining LocalForage driver: ${n}`),ye[n]=e,he[n]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(a,r):a(!!e._support):a(!0)}catch(e){r(e)}});return Z(n,t,r),n}driver(){return this._driver||null}getDriver(e,t,r){const n=ye[e]?Promise.resolve(ye[e]):Promise.reject(new Error("Driver not found."));return Z(n,t,r),n}ready(e){const t=this,r=t._driverSet.then(()=>(null===t._ready&&(t._ready=t._initDriver()),t._ready));return Z(r,e,e),r}setDriver(e,t,r){const n=this;ge(e)||(e=[e]);const i=this._getSupportedDrivers(e);function o(){n._config.driver=n.driver()}function s(e){return n._extend(e),o(),n._ready=n._initStorage(n._config),n._ready}const a=null!==this._driverSet?this._driverSet.catch(()=>Promise.resolve()):Promise.resolve();return this._driverSet=a.then(()=>{const e=i[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then(e=>{n._driver=e._driver,o(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(e){return function(){let t=0;return function r(){for(;t<e.length;){let i=e[t];return t++,n._dbInfo=null,n._ready=null,n.getDriver(i).then(s).catch(r)}o();const i=new Error("No available storage method found.");return n._driverSet=Promise.reject(i),n._driverSet}()}}(i)})}).catch(()=>{o();const e=new Error("No available storage method found.");return n._driverSet=Promise.reject(e),n._driverSet}),Z(this._driverSet,t,r),this._driverSet}supports(e){return!!he[e]}_extend(e){Oe(this,e)}_getSupportedDrivers(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];this.supports(n)&&t.push(n)}return t}_wrapLibraryMethodsWithReady(){for(let e=0,t=Re.length;e<t;e++)Se(this,Re[e])}createInstance(e){return new be(e)}}var Le=new be;Date.prototype.kUtilFormat=function(e){const t={"M+":this.getUTCMonth()+1,"d+":this.getUTCDate(),"H+":this.getUTCHours(),"h+":this.getUTCHours()%12||12,"m+":this.getUTCMinutes(),"s+":this.getUTCSeconds(),"q+":Math.floor((this.getUTCMonth()+3)/3),"S+":this.getUTCMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getUTCFullYear()+"").substr(4-RegExp.$1.length)));for(let r in t)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[r]:("000"+t[r]).substr(("000"+t[r]).length-RegExp.$1.length)));return e};let Ue,Me,we,Pe,Fe=e=>{let t,r,i,o,s,a,_,c,d,E,l,u,f,I,m,T,C,p,g,y,h=G.btoa,A=G.atob,v=e.bd,N=e.pd,R=e.vm,D=e.hs,S=e.dt,O=e.dm,b=["https://mlts.dynamsoft.com/","https://slts.dynamsoft.com/"],L=!1,U=Promise.resolve(),M=e.log&&((...t)=>{try{e.log.apply(null,t)}catch(e){setTimeout(()=>{throw e},0)}})||(()=>{}),w=v&&M||(()=>{}),P=e=>e.join(""),F={a:[80,88,27,82,145,164,199,211],b:[187,87,89,128,150,44,190,213],c:[89,51,74,53,99,72,82,118],d:[99,181,118,158,215,103,76,117],e:[99,51,86,105,100,71,120,108],f:[97,87,49,119,98,51,74,48,83,50,86,53],g:[81,85,86,84,76,85,100,68,84,81,32,32],h:[90,87,53,106,99,110,108,119,100,65,32,32],i:[90,71,86,106,99,110,108,119,100,65,32,32],j:[97,88,89,32],k:[29,83,122,137,5,180,157,114],l:[100,71,70,110,84,71,86,117,90,51,82,111]},B=()=>G[P(F.c)][P(F.e)][P(F.f)]("raw",new Uint8Array(F.a.concat(F.b,F.d,F.k)),P(F.g),!0,[P(F.h),P(F.i)]),x=async e=>{if(G[P(F.c)]&&G[P(F.c)][P(F.e)]&&G[P(F.c)][P(F.e)][P(F.f)]){let t=A(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);let n=r.subarray(0,12),i=r.subarray(n.length);y||(y=await B());let o=await G[P(F.c)][P(F.e)][P(F.i)]({name:P(F.g),[P(F.j)]:n,[P(F.l)]:128},y,i);return String.fromCharCode.apply(null,new Uint8Array(o))}},W=e=>A(A(e.replace(/\n/g,"+").replace(/\s/g,"=")).substring(1)),V=e=>h(String.fromCharCode(97+25*Math.random())+h(e)).replace(/\+/g,"\n").replace(/=/g," "),k=()=>{if(G.crypto){let e=new Uint8Array(36);G.crypto.getRandomValues(e);let t="";for(let r=0;r<36;++r){let n=e[r]%36;t+=n<10?n:String.fromCharCode(n+87)}return t}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})};const Y="Failed to connect to the Dynamsoft License Server: ",J=" Check your Internet connection or contact Dynamsoft Support (support@dynamsoft.com) to acquire an offline license.",j={dlsErrorAndCacheExpire:Y+"The cached license has expired. Please get connected to the network as soon as possible or contact the site administrator for more information.",publicTrialNetworkTimeout:Y+"network timed out."+J,networkTimeout:Y+"network timed out. Check your Internet connection or contact the site administrator for more information.",publicTrialFailConnect:Y+"network connection error."+J,failConnect:Y+"network connection error. Check your Internet connection or contact the site administrator for more information.",checkLocalTime:"Your system date and time appear to have been changed, causing the license to fail. Please correct the system date and time, then try again.",idbTimeout:"Failed to open indexedDB: Timeout.",dlsOfflineLicenseExpired:"The DLS2 Offline license has expired. Please contact the site administrator for more information."};let X,Z,K,$,z=async()=>{if(X)return X;X=new n,await(async()=>{u||(u=Le)})(),await Promise.race([(async()=>{let e=await u.createInstance({name:"dynamjssdkhello"});await e.setItem("dynamjssdkhello","available")})(),new Promise((e,t)=>{setTimeout(()=>t(new Error(j.idbTimeout)),5e3)})]),I=await u.createInstance({name:"dynamdlsinfo"}),m=h(h("v2")+String.fromCharCode(O.charCodeAt(O.length/2)+1)+h(O));try{let e=await I.getItem(m),t=null;self.indexedDB&&(t=await self.indexedDB.databases());let r=t&&t.some(e=>{if(e)return"dynamltsinfo"===e.name});if(!e&&r){let t=await u.createInstance({name:"dynamltsinfo"});e=await t.getItem(m),e&&await I.setItem(m,e)}e&&([i,E]=JSON.parse(await W(e)))}catch(e){}try{null==i&&(i=k(),I.setItem(m,await V(JSON.stringify([i,null]))))}catch(e){}X.resolve()},Q=async()=>{T=h(String.fromCharCode(D.charCodeAt(0)+10)+h(N)+h(D)+R+h(""+S)),f=await u.createInstance({name:"dynamdlsuns"+h(h("v2"))+h(String.fromCharCode(D.charCodeAt(0)+10)+h(N)+h(D)+R+h(""+S))});try{r=await I.getItem(T)}catch(e){}P=e=>A(String.fromCharCode.apply(null,e).replace(/\n/g,"+").replace(/\s/g,"="))},q=async e=>{if(K=Date.now(),Z)return Z;Z=new n;try{let n={pd:N,vm:R,v:t,dt:S||"browser",ed:"javascript",cu:i,ad:O,os:o,fn:s};c&&(n.rmk=c),D&&(-1!=D.indexOf("-")?n.hs=D:n.og=D);let l={};if(E){let e=await I.getItem(m);e&&([i,E]=JSON.parse(await W(e))),l["lts-time"]=E}_&&(n.sp=_);let u=await Promise.race([(async()=>{let t,o=(new Date).kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ");E&&(I.setItem(m,await V(JSON.stringify([i,o]))),E=o);let s="auth/?ext="+encodeURIComponent(h(JSON.stringify(n)));d&&(s+="&"+encodeURIComponent(d));let _,c=!1,u=!1,f=async e=>{if(e&&!e.ok)try{let t=await e.text();if(t){let e=JSON.parse(t);e.errorCode&&(_=e,e.errorCode>100&&e.errorCode<200&&(r=null,c=!0,u=!0))}}catch(e){}};try{t=await Promise.race([fetch(b[0]+s,{headers:l,cache:e?"reload":"default",mode:"cors"}),new Promise((e,t)=>setTimeout(t,1e4))]),await f(t)}catch(e){}if(!(r||t&&t.ok||c))try{t=await Promise.race([fetch(b[1]+s,{headers:l,mode:"cors"}),new Promise((e,t)=>setTimeout(t,3e4))]),await f(t)}catch(e){}if(!(r||t&&t.ok||c))try{t=await Promise.race([fetch(b[0]+s,{headers:l,mode:"cors"}),new Promise((e,t)=>setTimeout(t,3e4))]),await f(t)}catch(e){}_&&151==_.errorCode&&(I.removeItem(m),I.removeItem(T),i=k(),n.cu=i,E=void 0,s="auth/?ext="+encodeURIComponent(h(JSON.stringify(n))),t=await Promise.race([fetch(b[0]+s,{headers:l,mode:"cors"}),new Promise((e,t)=>setTimeout(t,3e4))]),await f(t)),(()=>{if(!t||!t.ok){let e;u&&I.setItem(T,""),_?111==_.errorCode?e=_.message:(e=_.message.trim(),e.endsWith(".")||(e+="."),e=a?`An error occurred during authorization: ${e} [Contact Dynamsoft](https://www.dynamsoft.com/company/contact/) for more information.`:`An error occurred during authorization: ${e} Contact the site administrator for more information.`):e=a?j.publicTrialFailConnect:j.failConnect;let t=Error(e);throw _&&_.errorCode&&(t.ltsErrorCode=_.errorCode),t}})();let C=await t.text();try{E||(I.setItem(m,await V(JSON.stringify([i,o]))),E=o),I.setItem(T,C)}catch(e){}return C})(),new Promise((e,t)=>{let n;n=a?j.publicTrialNetworkTimeout:j.networkTimeout,setTimeout(()=>t(new Error(n)),r?3e3:15e3)})]);r=u}catch(e){v&&console.error(e),l=e}Z.resolve(),Z=null},ee=async()=>{$||($=(async()=>{if(w(i),!r){if(!L)throw M(l.message),l;return}let e={dm:O};v&&(e.bd=!0),e.brtk=!0,e.ls=b[0],D&&(-1!=D.indexOf("-")?e.hs=D:e.og=D),e.cu=i,s&&(e.fn=s),N&&(e.pd=N),t&&(e.v=t),S&&(e.dt=S),o&&(e.os=o),c&&(e.rmk=c),w(r);try{let t=JSON.parse(await x(r));t.pv&&(e.pv=JSON.stringify(t.pv)),t.ba&&(e.ba=t.ba),t.usu&&(e.usu=t.usu),t.trial&&(e.trial=t.trial),t.its&&(e.its=t.its),1==e.trial&&t.msg?e.msg=t.msg:l?e.msg=l.message||l:t.msg&&(e.msg=t.msg),e.ar=t.in,e.bafc=!!l}catch(e){}w(e);try{await C(e)}catch(e){w("error updl")}await te(),L||(L=!0),$=null})()),await $},te=async()=>{let e=(new Date).kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ"),t=await g();if(w(t),t&&t<e)throw l?new Error(j.dlsErrorAndCacheExpire):new Error(j.checkLocalTime)};const re=new n;let ne=null,ie=async(e,t)=>(U=U.then(async()=>{try{let r=await f.keys();if(t||(re.isFulfilled?e&&(r=r.filter(t=>t<e)):e&&r.includes(e)?r=[e]:(r=[],w("Unexpected null key"))),!r.length)return;for(let e=0;e<r.length/1e3;++e){let t=r.slice(1e3*e,1e3*(e+1)),n=[];for(let e=0;e<t.length;++e)n.push(await f.getItem(t[e]));E=(new Date).kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ");{let e=await I.getItem(m);e&&([i]=JSON.parse(await W(e))),I.setItem(m,await V(JSON.stringify([i,E])))}try{let e,r,i=b[0]+"verify/v2";E&&(i+="?ltstime="+encodeURIComponent(E));try{e=fetch(i,{method:"POST",body:n.join(";"),keepalive:!0})}finally{!re.isFulfilled&&H&&re.resolve()}try{r=await e}finally{re.isFulfilled||re.resolve()}if(!r.ok)throw new Error("verify failed. Status Code: "+r.status);for(let e=0;e<t.length;++e)await f.removeItem(t[e])}catch(e){throw re.isFulfilled||re.resolve(),e}}}catch(e){}}),await U);return{i:async e=>{N=e.pd,t=e.v,R=t.split(".")[0],e.dt&&(S=e.dt),D=e.l||"",o="string"!=typeof e.os?JSON.stringify(e.os):e.os,s=e.fn,"string"==typeof s&&(s=s.substring(0,255)),e.ls&&e.ls.length&&(b=e.ls,1==b.length&&b.push(b[0])),a=!D||"200001"===D||D.startsWith("200001-"),_=e.sp,c=e.rmk,"string"==typeof c&&(c=c.substring(0,255)),e.cv&&(d=""+e.cv),C=e.updl,p=e.mnet,g=e.mxet,await z(),await Q(),await q(),await ee(),(!l||l.ltsErrorCode>=102&&l.ltsErrorCode<=120)&&ie(null,!0)},i2:async({updl:e,mxet:t,strDLC2:n})=>{C=e,g=t,await z(),P=e=>A(String.fromCharCode.apply(null,e).replace(/\n/g,"+").replace(/\s/g,"="));let o={pk:n,dm:O};v&&(o.bd=!0),o.cu=i;try{r=n.substring(4);let e=JSON.parse(await x(r));e.pv&&(o.pv=JSON.stringify(e.pv)),e.ba&&(o.ba=e.ba),o.ar=e.in}catch(e){}w(o);try{await C(o)}catch(e){w("error updl")}let s=(new Date).kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ"),a=await g();if(a&&a<s)throw new Error(j.dlsOfflineLicenseExpired)},ih:Q,c:async()=>{let e=new Date;if(e.getTime()<K+36e4)return;let t=e.kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ"),r=await p(),n=await g();if(n&&n<t)await q(!0),await ee();else if(r&&r<t){let t=new Date(e.getTime());t.setMinutes(e.getMinutes()-6);let r=t.kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ");E<r&&q().then(()=>ee())}},s:async(e,t,r,n)=>{try{let e=(t=t.trim()).startsWith("{")&&t.endsWith("}")?await(async e=>{if(G[P(F.c)]&&G[P(F.c)][P(F.e)]&&G[P(F.c)][P(F.e)][P(F.f)]){let t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r);let r=G.crypto.getRandomValues(new Uint8Array(12));y||(y=await B());let n=await G[P(F.c)][P(F.e)][P(F.h)]({name:P(F.g),[P(F.j)]:r,[P(F.l)]:128},y,t),i=new Uint8Array(n),o=new Uint8Array(r.length+i.length);return o.set(r),o.set(i,r.length),h(String.fromCharCode.apply(null,o))}})(t):t;e?(w("bs "+r),await f.setItem(r,e),w("ss "+r)):w("ept ecpt")}catch(e){}n&&(w("bd "+r),await ie(r,2==n),w("sd "+r)),ne&&clearTimeout(ne),ne=setTimeout(async()=>{await ie()},36e4)},p:re,u:async()=>(await z(),i),ar:()=>r,pt:()=>a,ae:()=>l}};const Be=self,Ge={};Be.coreWorkerVersion="3.0.3000",Be.versions=Ge;const xe={},We=Be.waitAsyncDependency=t=>e(void 0,void 0,void 0,function*(){let e="string"==typeof t?[t]:t,r=[];for(let t of e)r.push(xe[t]=xe[t]||new n);yield Promise.all(r)}),Ve=(t,r)=>e(void 0,void 0,void 0,function*(){let e,i="string"==typeof t?[t]:t,o=[];for(let t of i){let i;o.push(i=xe[t]=xe[t]||new n(e=e||r())),i.isEmpty&&(i.task=e=e||r())}yield Promise.all(o)}),ke=[];Be.setBufferIntoWasm=(e,t=0,r=0,n=0)=>{r&&(e=n?e.subarray(r,n):e.subarray(r));let i=ke[t]=ke[t]||{ptr:0,size:0,maxSize:0};return e.length>i.maxSize&&(i.ptr&&je._free(i.ptr),i.ptr=je._malloc(e.length),i.maxSize=e.length),je.HEAPU8.set(e,i.ptr),i.size=e.length,i.ptr};const Ye={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Ye.needed){for(let e=0;e<Ye.temps.length;e++)je._free(Ye.temps[e]);Ye.temps.length=0,je._free(Ye.buffer),Ye.buffer=0,Ye.size+=Ye.needed,Ye.needed=0}Ye.buffer||(Ye.size+=128,Ye.buffer=je._malloc(Ye.size),assert(Ye.buffer)),Ye.pos=0},alloc:function(e,t){assert(Ye.buffer);let r,n=t.BYTES_PER_ELEMENT,i=e.length*n;return i=i+7&-8,Ye.pos+i>=Ye.size?(assert(i>0),Ye.needed+=i,r=je._malloc(i),Ye.temps.push(r)):(r=Ye.buffer+Ye.pos,Ye.pos+=i),r},copy:function(e,t,r){switch(r>>>=0,t.BYTES_PER_ELEMENT){case 2:r>>>=1;break;case 4:r>>>=2;break;case 8:r>>>=3}for(let n=0;n<e.length;n++)t[r+n]=e[n]}},He=Be.ep=Ye.prepare;Be.bDebug=!1,Be.bLog=!1,Be.strDomain=void 0;const Je=Be.es=e=>{let t=intArrayFromString(e),r=Ye.alloc(t,je.HEAP8);return Ye.copy(t,je.HEAP8,r),r},je=Be.Module={print:e=>{Be.bLog&&qe(e)},printErr:e=>{Be.bLog&&qe(e)},locateFile:(e,t)=>{if(["dynamsoft-capture-vision-std.wasm","dynamsoft-core.wasm"].includes(e)){return Xe[e.split(".")[0].split("-").at(-1)]+e}return["dynamsoft-capture-vision-bundle-ml-simd.wasm"].includes(e)?Xe.dbrBundle+"dynamsoft-capture-vision-bundle-ml-simd.wasm":["dynamsoft-capture-vision-bundle.wasm"].includes(e)?Xe.dbrBundle+"dynamsoft-capture-vision-bundle.wasm":["dynamsoft-capture-vision-bundle-ml.wasm"].includes(e)?Xe.dbrBundle+"dynamsoft-capture-vision-bundle-ml.wasm":e}},Xe=Be.engineResourcePaths={},Ze=Be.loadCore=()=>e(void 0,void 0,void 0,function*(){const t="core";yield Ve(t,()=>e(void 0,void 0,void 0,function*(){let e=Be.bLog&&(qe(t+" loading..."),Date.now())||0,r=new Promise(r=>{je.onRuntimeInitialized=()=>{Ue=wasmExports,Be.bLog&&qe(t+" initialized, cost "+(Date.now()-e)+" ms"),r(void 0)}});const n=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))();let i=Xe.dbrBundle+`dynamsoft-capture-vision-bundle${Pe?"-ml":""}${n&&we&&Pe?"-simd":""}.js`;importScripts(i),yield r}));{let e=[];"DCV"===Me?e=["CVR","LICENSE","UTILITY","DIP","DBR","DLR","DDN","DCP"]:"DBR"===Me&&(e=["CVR","LICENSE","DIP","DBR","DCP"]);for(let t of e)He(),Ue.emscripten_bind_CoreWasm_PreSetModuleExist(Je(t)),He(),Ue.emscripten_bind_CvrWasm_SetModuleExist(Je(t),!0);const t=JSON.parse(UTF8ToString(Ue.emscripten_bind_CoreWasm_GetModuleVersion_0()));for(let e in t){const r=e.toLowerCase(),n=Be[`${r}WorkerVersion`];Ge[r]={worker:`${n||"No Worker"}`,wasm:t[e]}}}}),Ke=Be.loadSideModule=(t,{js:r,wasm:n})=>e(void 0,void 0,void 0,function*(){yield Ve(t,()=>e(void 0,void 0,void 0,function*(){yield We("core")}))}),$e=Be.mapController={loadWasm:(t,r)=>e(void 0,void 0,void 0,function*(){try{Object.assign(Xe,t.engineResourcePaths),we=t._useSimd,Pe=t._useMLBackend,t.needLoadCore&&(t.bLog&&(Be.bLog=!0),t.dm&&(Be.strDomain=t.dm),t.bd&&(Be.bDebug=!0),Me=t._bundleEnv,yield Ze());for(let e of t.names)yield Ke(e,t.autoResources[e]);ze(r,{versions:Ge})}catch(e){Qe(r,e)}}),setBLog:e=>{Be.bLog=e.value},setBDebug:e=>{Be.bDebug=e.value},getModuleVersion:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=UTF8ToString(Ue.emscripten_bind_CoreWasm_GetModuleVersion_0());ze(r,{versions:JSON.parse(e)})}catch(e){Qe(r,e)}}),cfd:(t,r)=>e(void 0,void 0,void 0,function*(){try{Ue.emscripten_bind_CoreWasm_static_CFD_1(t.count),ze(r,{})}catch(e){Qe(r,e)}})};addEventListener("message",e=>{const t=e.data?e.data:e,r=t.body,n=t.id,i=t.instanceID,o=$e[t.type];if(!o)throw new Error("Unmatched task: "+t.type);o(r,n,i)});const ze=Be.handleTaskRes=(e,t)=>{postMessage({type:"task",id:e,body:Object.assign({success:!0},t)})},Qe=Be.handleTaskErr=(e,t)=>{t||(t={}),postMessage({type:"task",id:e,body:{success:!1,message:t.message||"No error message available.",stack:Be.bDebug&&t.stack||"No stack trace available."}})},qe=Be.log=e=>{postMessage({type:"log",message:e})};let et,tt=null,rt=new Set;self.cvrWorkerVersion="3.0.3000";const nt={},it=(t,r)=>e(void 0,void 0,void 0,function*(){return nt[t]||(nt[t]=e(void 0,void 0,void 0,function*(){try{let e=0,n=`${r}${t}.data`;const i=yield new Promise((i,o)=>{const s=new XMLHttpRequest;s.responseType="arraybuffer",s.onload=()=>{s.status<200||s.status>=300?i({ok:!1,status:s.status}):i({ok:!0,arrayBuffer:()=>s.response})},s.onerror=s.onabort=()=>{o({ok:!1,status:s.status})},s.onloadstart=()=>{postMessage({type:"event",id:-2,body:{loaded:0,total:e||0,tag:"starting",resourcesPath:r+t+".data"}})},s.onloadend=()=>{postMessage({type:"event",id:-2,body:{loaded:e||0,total:e||0,tag:"completed",resourcesPath:r+t+".data"}})};let a=Date.now();s.onprogress=t=>{if(t.lengthComputable&&(e=t.total),e){const r=Date.now();a+500<r&&(postMessage({type:"event",id:-2,body:{total:e,loaded:t.loaded,tag:"in progress",resourcesPath:n}}),a=r)}},s.open("GET",n,!0),s.send()});if(!i.ok)throw new Error(`Network error. ${n} Status: ${i.status}.`);const o=yield i.arrayBuffer(),s=new Uint8Array(o);return He(),UTF8ToString(Ue.emscripten_bind_CvrWasm_AppendModelBuffer_4(Je(t),setBufferIntoWasm(s,0),s.length,1))}catch(e){throw delete nt[t],new Error(e)}})),nt[t]}),ot=(t,r,n)=>e(void 0,void 0,void 0,function*(){He();const e=JSON.parse(UTF8ToString(Ue.emscripten_bind_CvrWasm_ParseRequiredResources_1(t,Je(r.templateName))));for(let t=0;t<e.specss.length;t++)yield mt(e.specss[t],Xe.dbrBundle+"parser-resources/");e.models.length>0&&!Pe&&Qe(n,new Error("The template uses a machine learning model that requires a compatible WASM backend. Please ensure the appropriate WASM resource is correctly loaded."));for(let t=0;t<e.models.length;t++)yield it(e.models[t],Xe.dbrBundle)});function st(e,t){for(let r of e)if(r.result){if([b.IRUT_BINARY_IMAGE,b.IRUT_COLOUR_IMAGE,b.IRUT_COMPLEMENTED_BARCODE_IMAGE,b.IRUT_ENHANCED_GRAYSCALE_IMAGE,b.IRUT_GRAYSCALE_IMAGE,b.IRUT_SCALED_COLOUR_IMAGE,b.IRUT_SCALED_BARCODE_IMAGE,b.IRUT_TEXTURE_REMOVED_BINARY_IMAGE,b.IRUT_TEXTURE_REMOVED_GRAYSCALE_IMAGE,b.IRUT_TEXT_REMOVED_BINARY_IMAGE,b.IRUT_TRANSOFORMED_GRAYSCALE_IMAGE].includes(BigInt(r.result.unitType))){let e=r.result.imageData.bytes;e&&(e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length)),r.result.imageData.bytes=e)}else if([b.IRUT_DEFORMATION_RESISTED_BARCODE_IMAGE].includes(BigInt(r.result.unitType))){let e=r.result.deformationResistedBarcode.imageData.bytes;e&&(e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length)),r.result.deformationResistedBarcode.imageData.bytes=e)}else if([b.IRUT_ENHANCED_IMAGE].includes(r.result.unitType)){let e=r.result.enhancedImage.imageData.bytes;e&&(e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length)),r.result.enhancedImage.imageData.bytes=e)}else if([b.IRUT_CONTOURS].includes(BigInt(r.result.unitType))){let e=r.result.contours,n=r.result.contoursOffset;if(e&&n){e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length)),n=new Uint8Array(new Uint8Array(t.buffer,n.ptr,n.length));const i=new DataView(e.buffer),o=[];for(let t=0;t<e.length;t+=4)o.push(i.getInt32(t,!0));const s=new DataView(n.buffer),a=[0];for(let e=0;e<n.length;e+=4)a.push(s.getInt32(e,!0));const _=[];for(let e=0;e<a.length-1;e++){const t={points:[]};for(let r=a[e];r<a[e+1]-1;r+=2)t.points.push({x:o[r],y:o[r+1]});_.push(t)}r.result.contours=_,delete r.result.contoursOffset}}else if([b.IRUT_LINE_SEGMENTS].includes(BigInt(r.result.unitType))){let e=r.result.lineSegments;if(e){e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length));const n=new DataView(e.buffer),i=[];for(let t=0;t<e.length;t+=4)i.push(n.getInt32(t,!0));const o=[];for(let e=0;e<i.length;e+=4){const t={startPoint:{x:i[e],y:i[e+1]},endPoint:{x:i[e+2],y:i[e+3]}};o.push(t)}r.result.lineSegments=o}}else if([b.IRUT_LOGIC_LINES].includes(BigInt(r.result.unitType))){let e=r.result.logicLines;if(e){e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length));const n=new DataView(e.buffer),i=[];for(let t=0;t<e.length;t+=4)i.push(n.getInt32(t,!0));const o=[];for(let e=0;e<i.length;e+=4){const t={startPoint:{x:i[e],y:i[e+1]},endPoint:{x:i[e+2],y:i[e+3]}};o.push(t)}r.result.logicLines=o}}else if([b.IRUT_SHORT_LINES].includes(BigInt(r.result.unitType))){let e=r.result.shortLines;if(e){e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length));const n=new DataView(e.buffer),i=[];for(let t=0;t<e.length;t+=4)i.push(n.getInt32(t,!0));const o=[];for(let e=0;e<i.length;e+=4){const t={startPoint:{x:i[e],y:i[e+1]},endPoint:{x:i[e+2],y:i[e+3]}};o.push(t)}r.result.shortLines=o}}else if([b.IRUT_CANDIDATE_QUAD_EDGES].includes(BigInt(r.result.unitType))){let e=r.result.candidateQuadEdges;if(e){e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length));const n=new DataView(e.buffer),i=[];for(let t=0;t<e.length;t+=4)i.push(n.getInt32(t,!0));const o=[];for(let e=0;e<i.length;e+=22){const t={startCorner:{intersection:{x:i[e],y:i[e+1]},line1:{startPoint:{x:i[e+2],y:i[e+3]},endPoint:{x:i[e+4],y:i[e+5]}},line2:{startPoint:{x:i[e+6],y:i[e+7]},endPoint:{x:i[e+8],y:i[e+9]}},type:i[e+10]},endCorner:{intersection:{x:i[e+11],y:i[e+12]},line1:{startPoint:{x:i[e+13],y:i[e+14]},endPoint:{x:i[e+15],y:i[e+16]}},line2:{startPoint:{x:i[e+17],y:i[e+18]},endPoint:{x:i[e+19],y:i[e+20]}},type:i[e+21]}};o.push(t)}r.result.candidateQuadEdges=o}}else if([b.IRUT_CORNERS].includes(BigInt(r.result.unitType))){let e=r.result.corners;if(e){e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length));const n=new DataView(e.buffer),i=[];for(let t=0;t<e.length;t+=4)i.push(n.getInt32(t,!0));const o=[];for(let e=0;e<i.length;e+=11){const t={intersection:{x:i[e],y:i[e+1]},line1:{startPoint:{x:i[e+2],y:i[e+3]},endPoint:{x:i[e+4],y:i[e+5]}},line2:{startPoint:{x:i[e+6],y:i[e+7]},endPoint:{x:i[e+8],y:i[e+9]}},type:i[e+10]};o.push(t)}r.result.corners=o}}else if([b.IRUT_DESKEWED_IMAGE].includes(BigInt(r.result.unitType))){let e=r.result.deskewedImage.imageData.bytes;e&&(e=new Uint8Array(new Uint8Array(t.buffer,e.ptr,e.length)),r.result.deskewedImage.imageData.bytes=e)}}else if(r.intermediateResultUnits)for(let e of r.intermediateResultUnits)if(e.unitType===b.IRUT_DESKEWED_IMAGE){let r=e.deskewedImage.imageData.bytes;r&&(r=new Uint8Array(new Uint8Array(t.buffer,r.ptr,r.length)),e.deskewedImage.imageData.bytes=r)}}let at,_t,ct,dt;Object.assign($e,{cvr_createInstance:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_CvrWasm_CvrWasm_0();t.loadPresetTemplates&&(et=yield I(Xe.dbrBundle+"templates/DBR-PresetTemplates.json","text"),He(),Ue.emscripten_bind_CvrWasm_AppendParameterContent_1(e,Je(et)),Ue.emscripten_bind_CvrWasm_InitParameter_0(e)),He();const n=UTF8ToString(Ue.emscripten_bind_CvrWasm_OutputSettings_1(e,Je("*"),!1));let i=JSON.parse(UTF8ToString(Ue.emscripten_bind_CoreWasm_GetModuleVersion_0())).CVR;rt.add(e),ze(r,{instanceID:e,version:i,outputSettings:n})}catch(e){Qe(r,e)}}),cvr_appendModelBuffer:(t,r)=>e(void 0,void 0,void 0,function*(){let e;try{if(!Pe)return void Qe(r,new Error("The required WASM resource for the machine learning model has not been loaded."));e=yield it(t.modelName,t.path),ze(r,{success:!0,response:e})}catch(e){Qe(r,e)}}),cvr_initSettings:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{const i=t.settings;He(),e=UTF8ToString(Ue.emscripten_bind_CvrWasm_InitSettings_1(n,Je(i))),ze(r,{success:!0,response:e})}catch(e){Qe(r,e)}}),cvr_setCrrRegistry:(t,r,n)=>e(void 0,void 0,void 0,function*(){try{rt.has(n)&&(He(),Ue.emscripten_bind_CvrWasm_SetCrrRegistry_1(n,Je(t.receiver))),ze(r,{success:!0})}catch(e){Qe(r,e)}}),cvr_startCapturing:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e=!1;try{He();const i=JSON.parse(UTF8ToString(Ue.emscripten_bind_CvrWasm_OutputSettings_1(n,Je(t.templateName))));if(i&&0!==i.errorCode)throw new Error(i.errorString);e=1===JSON.parse(i.data).CaptureVisionTemplates[0].OutputOriginalImage,yield ot(n,t,r),ze(r,{success:!0,isOutputOriginalImage:e})}catch(e){Qe(r,e)}}),cvr_parseRequiredResources:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{He(),e=UTF8ToString(Ue.emscripten_bind_CvrWasm_ParseRequiredResources_1(n,Je(t.templateName))),ze(r,{success:!0,resources:e})}catch(e){Qe(r,e)}}),cvr_clearVerifyList:(e,t,r)=>{try{Ue.emscripten_bind_CvrWasm_ClearVerifyList_0(r),ze(t,{success:!0})}catch(e){Qe(t,e)}},cvr_getIntermediateResult:(e,t,r)=>{let n={};try{n=JSON.parse(UTF8ToString(Ue.emscripten_bind_CvrWasm_GetIntermediateResult_0(r)),(e,t)=>["format","possibleFormats","unitType"].includes(e)?BigInt(t):t),n&&st(n,HEAP8)}catch(e){Qe(t,e)}ze(t,{success:!0,result:n})},cvr_setObservedResultUnitTypes:(e,t,r)=>{try{He(),Ue.emscripten_bind_CvrWasm_SetObservedResultUnitTypes_1(r,Je(e.types))}catch(e){Qe(t,e)}ze(t,{success:!0})},cvr_getObservedResultUnitTypes:(e,t,r)=>{let n;try{He(),n=UTF8ToString(Ue.emscripten_bind_CvrWasm_GetObservedResultUnitTypes_0(r))}catch(e){Qe(t,e)}ze(t,{success:!0,result:n})},cvr_isResultUnitTypeObserved:(e,t,r)=>{let n;try{He(),n=Ue.emscripten_bind_CvrWasm_IsResultUnitTypeObserved_1(r,Je(e.type))}catch(e){Qe(t,e)}ze(t,{success:!0,result:n})},cvr_capture:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e,i,o;yield checkAndReauth(),qe(`time worker get msg: ${Date.now()}`);try{let s=Date.now();yield ot(n,t,r),qe("appendResourceTime: "+(Date.now()-s)),tt&&(Ue.emscripten_bind_Destory_CImageData(tt),tt=null),tt=Ue.emscripten_bind_Create_CImageData(t.bytes.length,setBufferIntoWasm(t.bytes,0),t.width,t.height,t.stride,t.format,0);let a=Date.now();qe(`start worker capture: ${a}`),He(),i=UTF8ToString(Ue.emscripten_bind_CvrWasm_Capture_4(n,tt,Je(t.templateName),!0,t.dynamsoft));let _=Date.now();qe("worker time: "+(_-a)),qe(`end worker capture: ${_}`),i=JSON.parse(i,function(e,t){return"format"!==e||u(this)?t:BigInt(t)});let c=Date.now();qe("capture result parsed: "+(c-_));for(let e=0;e<i.items.length;e++)[y.CRIT_DESKEWED_IMAGE,y.CRIT_ENHANCED_IMAGE].includes(i.items[e].type)&&(o=i.items[e].imageData.bytes,o=new Uint8Array(new Uint8Array(HEAP8.buffer,o.ptr,o.length)),i.items[e].imageData.bytes=o);const d=i.processedDocumentResult&&i.processedDocumentResult.deskewedImageResultItems;if(d)for(let e=0;e<d.length;e++)o=d[e].imageData.bytes,o=new Uint8Array(new Uint8Array(HEAP8.buffer,o.ptr,o.length)),d[e].imageData.bytes=o;const E=i.processedDocumentResult&&i.processedDocumentResult.enhancedImageResultItems;if(E)for(let e=0;e<E.length;e++)o=E[e].imageData.bytes,o=new Uint8Array(new Uint8Array(HEAP8.buffer,o.ptr,o.length)),E[e].imageData.bytes=o;let l=Date.now();qe("result new Uint8Array: "+(l-c)),e=JSON.parse(UTF8ToString(Ue.emscripten_bind_CvrWasm_GetIntermediateResult_0(n)),(e,t)=>["format","possibleFormats","unitType"].includes(e)?BigInt(t):t),e&&st(e,HEAP8),i.intermediateResult=e;let f=Date.now();qe("get intermediate result: "+(f-l)),qe("after capture handle time: "+(Date.now()-_))}catch(e){return void Qe(r,e)}const s=Date.now();qe(`time worker return msg: ${s}`),postMessage({type:"task",id:r,body:{success:!0,bytes:t.bytes,captureResult:i,workerReturnMsgTime:s}},[t.bytes.buffer])}),cvr_cc:(t,r,n)=>e(void 0,void 0,void 0,function*(){try{He(),Ue.emscripten_bind_CvrWasm_CC_3(n,Je(t.text),Je(t.strFormat),t.isDPM),ze(r,{success:!0})}catch(e){Qe(r,e)}}),cvr_outputSettings:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{He(),e=UTF8ToString(Ue.emscripten_bind_CvrWasm_OutputSettings_1(n,Je(t.templateName),t.includeDefaultValues)),ze(r,{success:!0,response:e})}catch(e){Qe(r,e)}}),cvr_getTemplateNames:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{He(),e=UTF8ToString(Ue.emscripten_bind_CvrWasm_GetTemplateNames_0(n)),ze(r,{success:!0,response:e})}catch(e){Qe(r,e)}}),cvr_getSimplifiedSettings:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{He(),e=UTF8ToString(Ue.emscripten_bind_CvrWasm_GetSimplifiedSettings_1(n,Je(t.templateName))),ze(r,{success:!0,response:e})}catch(e){Qe(r,e)}}),cvr_updateSettings:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e,i=!1;try{let o=t.settings,s=t.templateName;"object"==typeof o&&o.hasOwnProperty("barcodeSettings")&&(o.barcodeSettings.barcodeFormatIds=o.barcodeSettings.barcodeFormatIds.toString()),He(),e=UTF8ToString(Ue.emscripten_bind_CvrWasm_UpdateSettings_2(n,Je(s),Je(JSON.stringify(o)))),He();const a=JSON.parse(UTF8ToString(Ue.emscripten_bind_CvrWasm_OutputSettings_1(n,Je(s))));if(!a.errorCode){i=1===JSON.parse(a.data).CaptureVisionTemplates[0].OutputOriginalImage}ze(r,{success:!0,response:e,isOutputOriginalImage:i})}catch(e){Qe(r,e)}}),cvr_resetSettings:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{Ue.emscripten_bind_CvrWasm_ResetSettings_0(n),He(),et&&Ue.emscripten_bind_CvrWasm_AppendParameterContent_1(n,Je(et)),He(),He(),He(),e=UTF8ToString(Ue.emscripten_bind_CvrWasm_InitParameter_0(n)),ze(r,{success:!0,response:e})}catch(e){Qe(r,e)}}),cvr_getMaxBufferedItems:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{e=Ue.emscripten_bind_CvrWasm_GetMaxBufferedItems_0(n),ze(r,{success:!0,count:e})}catch(e){Qe(r,e)}}),cvr_setMaxBufferedItems:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{e=Ue.emscripten_bind_CvrWasm_SetMaxBufferedItems_1(n,t.count),ze(r,{success:!0})}catch(e){Qe(r,e)}}),cvr_getBufferedCharacterItemSet:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{e=JSON.parse(UTF8ToString(Ue.emscripten_bind_CvrWasm_GetBufferedCharacterItemSet_0(n)));for(let t of e.items){let e=t.image.bytes;e&&(e=new Uint8Array(new Uint8Array(HEAP8.buffer,e.ptr,e.length)),t.image.bytes=e)}for(let t of e.characterClusters){let e=t.mean.image.bytes;e&&(e=new Uint8Array(new Uint8Array(HEAP8.buffer,e.ptr,e.length)),t.mean.image.bytes=e)}ze(r,{success:!0,itemSet:e})}catch(e){Qe(r,e)}}),cvr_setIrrRegistry:(t,r,n)=>e(void 0,void 0,void 0,function*(){try{if(rt.has(n)){He(),Ue.emscripten_bind_CvrWasm_SetIrrRegistry_1(n,Je(JSON.stringify(t.receiverObj))),t.observedResultUnitTypes&&"-1"!==t.observedResultUnitTypes&&(He(),Ue.emscripten_bind_CvrWasm_SetObservedResultUnitTypes_1(n,Je(t.observedResultUnitTypes)));for(let e in t.observedTaskMap)t.observedTaskMap[e]?(He(),Ue.emscripten_bind_CvrWasm_AddObservedTask_1(n,Je(e))):(He(),Ue.emscripten_bind_CvrWasm_RemoveObservedTask_1(n,Je(e)))}ze(r,{success:!0})}catch(e){Qe(r,e)}}),cvr_enableResultCrossVerification:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{for(let r in t.verificationEnabled)e=Ue.emscripten_bind_CvrWasm_EnableResultCrossVerification_2(n,Number(r),t.verificationEnabled[r]);ze(r,{success:!0,result:e})}catch(e){Qe(r,e)}}),cvr_enableResultDeduplication:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{for(let r in t.duplicateFilterEnabled)e=Ue.emscripten_bind_CvrWasm_EnableResultDeduplication_2(n,Number(r),t.duplicateFilterEnabled[r]);ze(r,{success:!0,result:e})}catch(e){Qe(r,e)}}),cvr_setDuplicateForgetTime:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{for(let r in t.duplicateForgetTime)e=Ue.emscripten_bind_CvrWasm_SetDuplicateForgetTime_2(n,Number(r),t.duplicateForgetTime[r]);ze(r,{success:!0,result:e})}catch(e){Qe(r,e)}}),cvr_getDuplicateForgetTime:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{e=Ue.emscripten_bind_CvrWasm_GetDuplicateForgetTime_1(n,t.type),ze(r,{success:!0,time:e})}catch(e){Qe(r,e)}}),cvr_containsTask:(t,r,n)=>e(void 0,void 0,void 0,function*(){try{He();const e=UTF8ToString(Ue.emscripten_bind_CvrWasm_ContainsTask_1(n,Je(t.templateName)));ze(r,{success:!0,tasks:e})}catch(e){Qe(r,e)}}),cvr_dispose:(t,r,n)=>e(void 0,void 0,void 0,function*(){try{rt.delete(n),Ue.emscripten_bind_Destory_CImageData(tt),tt=null,Ue.emscripten_bind_CvrWasm___destroy___0(n),ze(r,{success:!0})}catch(e){Qe(r,e)}}),cvr_getWasmFilterState:(t,r,n)=>e(void 0,void 0,void 0,function*(){let e;try{e=UTF8ToString(Ue.emscripten_bind_CvrWasm_GetFilterState_0(n)),ze(r,{success:!0,response:e})}catch(e){Qe(r,e)}})}),Be.licenseWorkerVersion="3.0.3000";const Et=t=>e(void 0,void 0,void 0,function*(){try{yield We("core"),at=t.trial,_t=t.msg,He(),dt=JSON.parse(UTF8ToString(Ue.emscripten_bind_CoreWasm_static_init_1(Je(JSON.stringify(t)))))}catch(e){throw console.log(e),e}}),lt=()=>{let e=je.getMinExpireTime;return e?e():null},ut=()=>{let e=je.getMaxExpireTime;return e?e():null};Be.checkAndReauth=()=>e(void 0,void 0,void 0,function*(){}),Object.assign($e,{license_dynamsoft:(t,r)=>e(void 0,void 0,void 0,function*(){try{let n,i=t.l,o=t.brtk,s=()=>e(void 0,void 0,void 0,function*(){ct=ct||Fe({dm:strDomain,log:qe,bd:bDebug}),Be.scsd=ct.s,t.pd="",t.v="0."+t.v,t.updl=Et,t.mnet=lt,t.mxet=ut,yield ct.i(t)}),a=()=>e(void 0,void 0,void 0,function*(){if(i.startsWith("DLC2"))ct=ct||Fe({dm:strDomain,log:qe,bd:bDebug}),yield ct.i2({updl:Et,mxet:ut,strDLC2:i});else{let e={pk:i,dm:strDomain};bDebug&&(e.bd=!0),yield Et(e)}});o?yield s():yield a(),ze(r,{trial:at,ltsErrorCode:n,message:_t,initLicenseInfo:dt,bSupportDce4Module:Ue.emscripten_bind_CoreWasm_static_GetIsSupportDceModule_0(),bSupportIRTModule:Ue.emscripten_bind_CoreWasm_static_GetIsSupportIRTModule_0()})}catch(e){Qe(r,e)}}),license_getDeviceUUID:(t,r)=>e(void 0,void 0,void 0,function*(){try{ct=ct||Fe({dm:strDomain,log:qe,bd:bDebug});let e=yield ct.u();ze(r,{uuid:e})}catch(e){Qe(r,e)}}),license_getAR:(t,r)=>e(void 0,void 0,void 0,function*(){try{if(ct){let e={u:yield ct.u(),pt:ct.pt()},t=ct.ar();t&&(e.ar=t);let n=ct.ae();n&&(e.lem=n.message,e.lec=n.ltsErrorCode),ze(r,e)}else ze(r,null)}catch(e){Qe(r,e)}})});let ft=new Map,It=new Map;Be.dcpWorkerVersion="3.0.3000";const mt=Be.checkAndAutoLoadResourceBuffer=(t,r)=>e(void 0,void 0,void 0,function*(){if(t=t.toUpperCase(),!ft.has(t)){let n,i;ft.set(t,e(void 0,void 0,void 0,function*(){try{n=yield I(r+t+".dcpres","arraybuffer");const e=new Uint8Array(n);i=UTF8ToString(Ue.emscripten_bind_DcpWasm_GetMapNameBySpecification_2(setBufferIntoWasm(e,0),e.length)),i&&!It.has(i)&&It.set(i,I(r+i,"arraybuffer"));const o=yield It.get(i);if(o){const r=new Uint8Array(o);He(),qe(UTF8ToString(Ue.emscripten_bind_DcpWasm_AppendResourceBuffer_5(Je(t+".dcpres"),setBufferIntoWasm(e,0),e.length,setBufferIntoWasm(r,1),r.length)))}else He(),qe(UTF8ToString(Ue.emscripten_bind_DcpWasm_AppendResourceBuffer_5(Je(t+".dcpres"),setBufferIntoWasm(e,0),e.length,null,0)));return!0}catch(e){throw ft.delete(t),It.delete(i),new Error(e)}}))}yield ft.get(t)});Object.assign($e,{dcp_appendResourceBuffer:(t,r)=>e(void 0,void 0,void 0,function*(){try{for(let e of t.specificationNames)yield mt(e,t.specificationPath)}catch(e){return void Qe(r,e)}ze(r,{success:!0})}),dcp_createInstance:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_DcpWasm_CreateInstance_0();ze(r,{instanceID:e})}catch(e){return void Qe(r,e)}}),dcp_dispose:(t,r,n)=>e(void 0,void 0,void 0,function*(){try{Ue.emscripten_bind_DcpWasm___destroy___0(n),ze(r,{success:!0})}catch(e){Qe(r,e)}}),dcp_initSettings:(t,r,n)=>e(void 0,void 0,void 0,function*(){try{He();let e=UTF8ToString(Ue.emscripten_bind_DcpWasm_InitSettings_1(n,Je(t.settings)));ze(r,{success:!0,response:e})}catch(e){return void Qe(r,e)}}),dcp_resetSettings:(t,r,n)=>e(void 0,void 0,void 0,function*(){try{Ue.emscripten_bind_DcpWasm_ResetSettings_0(n),ze(r,{success:!0})}catch(e){return void Qe(r,e)}}),dcp_parse:(t,r,n)=>e(void 0,void 0,void 0,function*(){try{He();let e=UTF8ToString(Ue.emscripten_bind_DcpWasm_Parse_3(n,setBufferIntoWasm(t.source,0),t.source.length,Je(t.taskSettingName)));"parse failed."===e&&(e=JSON.stringify({errorCode:!0,errorString:"parse failed."})),ze(r,{success:!0,parseResponse:e})}catch(e){return void Qe(r,e)}})}),Be.utilityWorkerVersion="3.0.3000";const Tt=e=>{let t=e.bytes;t&&(t=new Uint8Array(new Uint8Array(HEAP8.buffer,t.ptr,t.length)),e.bytes=t)};Object.assign($e,{utility_drawOnImage:(t,r)=>e(void 0,void 0,void 0,function*(){let e;try{let n=Ue.emscripten_bind_Create_CImageData(t.dsImage.bytes.length,setBufferIntoWasm(t.dsImage.bytes,0),t.dsImage.width,t.dsImage.height,t.dsImage.stride,t.dsImage.format,0);const i=t.type.charAt(0).toUpperCase()+t.type.slice(1);He(),e=JSON.parse(UTF8ToString(Ue[`emscripten_bind_UtilityWasm_DrawOnImage${i}`](n,Je(JSON.stringify(t.drawingItem)),t.drawingItem.length,t.color,t.thickness)));let o=e.bytes;o&&(o=new Uint8Array(new Uint8Array(HEAP8.buffer,o.ptr,o.length)),e.bytes=o),Ue.emscripten_bind_Destory_CImageData(n),ze(r,{success:!0,image:e})}catch(e){return void Qe(r,e)}}),utility_readFromMemory:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=JSON.parse(UTF8ToString(Ue.emscripten_bind_UtilityWasm_ReadFromMemory(t.ptr,t.length)));Tt(e),ze(r,{success:!0,imageData:e})}catch(e){return void Qe(r,e)}}),utility_saveToMemory:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_Create_CImageData(t.bytes.length,setBufferIntoWasm(t.bytes,0),t.width,t.height,t.stride,t.format,0),n=UTF8ToString(Ue.emscripten_bind_UtilityWasm_SaveToMemory(e,t.fileFormat));Ue.emscripten_bind_Destory_CImageData(e),ze(r,{success:!0,memery:n})}catch(e){return void Qe(r,e)}}),utility_cropImage:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_Create_CImageData(t.bytes.length,setBufferIntoWasm(t.bytes,0),t.width,t.height,t.stride,t.format,0);He();let n=JSON.parse(UTF8ToString(Ue[`emscripten_bind_UtilityWasm_CropImageFrom${t.type}`](e,Je(JSON.stringify(t.roi)))));Ue.emscripten_bind_Destory_CImageData(e),Tt(n),ze(r,{success:!0,cropImage:n})}catch(e){return void Qe(r,e)}}),utility_adjustBrightness:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_Create_CImageData(t.bytes.length,setBufferIntoWasm(t.bytes,0),t.width,t.height,t.stride,t.format,0),n=JSON.parse(UTF8ToString(Ue.emscripten_bind_UtilityWasm_AdjustBrightness(e,t.brightness)));Ue.emscripten_bind_Destory_CImageData(e),Tt(n),ze(r,{success:!0,adjustBrightness:n})}catch(e){return void Qe(r,e)}}),utility_adjustContrast:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_Create_CImageData(t.bytes.length,setBufferIntoWasm(t.bytes,0),t.width,t.height,t.stride,t.format,0),n=JSON.parse(UTF8ToString(Ue.emscripten_bind_UtilityWasm_AdjustContrast(e,t.contrast)));Ue.emscripten_bind_Destory_CImageData(e),Tt(n),ze(r,{success:!0,adjustContrast:n})}catch(e){return void Qe(r,e)}}),utility_filterImage:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_Create_CImageData(t.bytes.length,setBufferIntoWasm(t.bytes,0),t.width,t.height,t.stride,t.format,0),n=JSON.parse(UTF8ToString(Ue.emscripten_bind_UtilityWasm_FilterImage(e,t.filterType)));Ue.emscripten_bind_Destory_CImageData(e),Tt(n),ze(r,{success:!0,filterImage:n})}catch(e){return void Qe(r,e)}}),utility_convertToGray:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_Create_CImageData(t.bytes.length,setBufferIntoWasm(t.bytes,0),t.width,t.height,t.stride,t.format,0),n=JSON.parse(UTF8ToString(Ue.emscripten_bind_UtilityWasm_ConvertToGray(e,t.R,t.G,t.B)));Ue.emscripten_bind_Destory_CImageData(e),Tt(n),ze(r,{success:!0,convertToGray:n})}catch(e){return void Qe(r,e)}}),utility_convertToBinaryGlobal:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_Create_CImageData(t.bytes.length,setBufferIntoWasm(t.bytes,0),t.width,t.height,t.stride,t.format,0),n=JSON.parse(UTF8ToString(Ue.emscripten_bind_UtilityWasm_ConvertToBinaryGlobal(e,t.threshold,t.invert)));Ue.emscripten_bind_Destory_CImageData(e),Tt(n),ze(r,{success:!0,convertToBinaryGlobal:n})}catch(e){return void Qe(r,e)}}),utility_convertToBinaryLocal:(t,r)=>e(void 0,void 0,void 0,function*(){try{let e=Ue.emscripten_bind_Create_CImageData(t.bytes.length,setBufferIntoWasm(t.bytes,0),t.width,t.height,t.stride,t.format,0),n=JSON.parse(UTF8ToString(Ue.emscripten_bind_UtilityWasm_ConvertToBinaryLocal(e,t.blockSize,t.compensation,t.invert)));Ue.emscripten_bind_Destory_CImageData(e),Tt(n),ze(r,{success:!0,convertToBinaryLocal:n})}catch(e){return void Qe(r,e)}})})}();
